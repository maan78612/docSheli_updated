import 'package:docsheli/providers/auth.dart';
import 'package:flutter/material.dart';
import 'package:flutter_svg/flutter_svg.dart';
import 'package:provider/provider.dart';

class SplashScreen extends StatefulWidget {
  const SplashScreen({Key? key}) : super(key: key);

  @override
  _SplashScreenState createState() => _SplashScreenState();
}

class _SplashScreenState extends State<SplashScreen> {
  void navigateToNext() {
    Future.delayed(Duration(seconds: 3), () {
      WidgetsBinding.instance.addPostFrameCallback((_) {
        Provider.of<AuthProvider>(context, listen: false).onInit();
      });
    });
  }

  @override
  void initState() {
    navigateToNext();
    super.initState();
  }

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      body: Container(
        alignment: Alignment(-0.04, -0.01),
        decoration: BoxDecoration(
          gradient: LinearGradient(
            begin: Alignment.topCenter,
            end: Alignment.bottomCenter,
            colors: [const Color(0xFF2A2AC0), const Color(0xFF181461)],
          ),
        ),
        child: SizedBox(
          width: 203.99,
          height: 66.95,
          child: Stack(
            children: <Widget>[
              Positioned(
                right: 0,
                bottom: 0,
                child: SizedBox(
                  width: 184.0,
                  height: 51.0,
                  child: Text(
                    'docsheli',
                    style: TextStyle(
                      fontFamily: 'Bahnschrift',
                      fontSize: 30.0,
                      color: Colors.white,
                      fontWeight: FontWeight.w600,
                    ),
                    textAlign: TextAlign.center,
                  ),
                ),
              ),
              SvgPicture.string(
                // stethoscope-svgrepo-com
                '<svg viewBox="116.01 417.05 54.99 59.91" ><path transform="matrix(0.927184, 0.374607, -0.374607, 0.927184, 129.11, 414.99)" d="M 38.69892120361328 25.10162162780762 C 35.40170288085938 25.10162162780762 32.67776870727539 27.57939720153809 32.27695465087891 30.76973152160645 L 23.31405448913574 30.76973152160645 L 23.31405448913574 25.81013679504395 C 24.15617370605469 25.60041618347168 24.88411903381348 25.06680488586426 25.34323692321777 24.29351234436035 L 35.80494689941406 6.60010814666748 C 36.4171028137207 5.567702293395996 36.42763137817383 4.328006744384766 35.83328628540039 3.285074472427368 C 35.23894500732422 2.24214243888855 34.16767120361328 1.619459509849548 32.96684646606445 1.619459509849548 L 31.12713813781738 1.619459509849548 C 30.67044830322266 0.6655978560447693 29.7036304473877 0 28.57729721069336 0 C 27.28496742248535 0 24.12378311157227 0.9935383796691895 24.12378311157227 2.834054231643677 C 24.12378311157227 4.674569606781006 27.28496742248535 5.668108463287354 28.57729721069336 5.668108463287354 C 30.00080108642578 5.668108463287354 31.17167091369629 4.608981609344482 31.37005615234375 3.238919019699097 L 32.96603393554688 3.238919019699097 C 33.5773811340332 3.238919019699097 34.12313842773438 3.556333303451538 34.42516708374023 4.087515830993652 C 34.72800445556641 4.617888927459717 34.72233581542969 5.249477863311768 34.41059112548828 5.775802135467529 L 23.94888114929199 23.46920585632324 C 23.64361381530762 23.98419570922852 23.10352516174316 24.29189300537109 22.50432395935059 24.29189300537109 C 21.90512466430664 24.29189300537109 21.36503410339355 23.98419570922852 21.05409812927246 23.46110916137695 L 10.30007743835449 5.7749924659729 C 9.988332748413086 5.249477863311768 9.982664108276367 4.617888927459717 10.28550338745117 4.087515830993652 C 10.58834266662598 3.556333303451538 11.13409996032715 3.238919019699097 11.74463653564453 3.238919019699097 L 13.63778495788574 3.238919019699097 C 13.83697700500488 4.608981609344482 15.00784683227539 5.668108463287354 16.43135261535645 5.668108463287354 C 17.72368049621582 5.668108463287354 20.88486480712891 4.674569606781006 20.88486480712891 2.834054231643677 C 20.88486480712891 0.9935386180877686 17.72368049621582 0 16.43135261535645 0 C 15.30501747131348 0 14.33820152282715 0.6655978560447693 13.88151168823242 1.619459509849548 L 11.74463653564453 1.619459509849548 C 10.5438060760498 1.619459509849548 9.4725341796875 2.242951393127441 8.878192901611328 3.28588342666626 C 8.28385066986084 4.328815460205078 8.294378280639648 5.567701816558838 8.911392211914063 6.60820484161377 L 19.66622161865234 24.29432106018066 C 20.12452697753906 25.06761169433594 20.85247421264648 25.60041618347168 21.69459533691406 25.81013488769531 L 21.69459533691406 30.76973152160645 L 14.40702819824219 30.76973152160645 C 9.496015548706055 30.76973152160645 5.5 34.7657470703125 5.5 39.6767578125 C 5.5 44.5877685546875 9.496015548706055 48.58378601074219 14.40702819824219 48.58378601074219 C 19.31803894042969 48.58378601074219 23.31405448913574 44.5877685546875 23.31405448913574 39.6767578125 L 23.31405448913574 32.38919067382813 L 32.27695465087891 32.38919067382813 C 32.67776870727539 35.57952499389648 35.40170288085938 38.05729675292969 38.69892120361328 38.05729675292969 C 42.27063751220703 38.05729675292969 45.1767578125 35.15117645263672 45.1767578125 31.57946014404297 C 45.1767578125 28.00774383544922 42.27063751220703 25.10162162780762 38.69892120361328 25.10162162780762 Z M 21.69459533691406 39.6767578125 C 21.69459533691406 43.6954460144043 18.42490577697754 46.96432495117188 14.40702819824219 46.96432495117188 C 10.3891487121582 46.96432495117188 7.119459629058838 43.6954460144043 7.119459629058838 39.6767578125 C 7.119459629058838 35.6580696105957 10.3891487121582 32.38919067382813 14.40702819824219 32.38919067382813 L 21.69459533691406 32.38919067382813 L 21.69459533691406 39.6767578125 Z M 38.69892120361328 34.81837844848633 C 36.91265487670898 34.81837844848633 35.45999908447266 33.36572647094727 35.45999908447266 31.57946014404297 C 35.45999908447266 29.7931957244873 36.91265487670898 28.34054183959961 38.69892120361328 28.34054183959961 C 40.48518371582031 28.34054183959961 41.93783950805664 29.7931957244873 41.93783950805664 31.57946014404297 C 41.93783950805664 33.36572647094727 40.48518371582031 34.81837844848633 38.69892120361328 34.81837844848633 Z" fill="#1bc6d8" stroke="none" stroke-width="1" stroke-miterlimit="4" stroke-linecap="butt" /></svg>',
                width: 39.68,
                height: 48.58,
              ),
            ],
          ),
        ),
      ),
    );
  }
}
